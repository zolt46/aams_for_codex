/* assets/css/execute.css */

.execute-stage {
  position: relative;
  width: 100%;
  min-height: 100dvh;
  background: #010101;
  color: #bdf5e6;
  display: grid;
  grid-template-rows: auto 1fr;
  row-gap: clamp(24px, 6vh, 64px);
  justify-items: center;
  align-items: center;
  align-content: center;
  padding: clamp(20px, 6vh, 64px) clamp(18px, 6vw, 52px) clamp(28px, 7vh, 72px);
  overflow: hidden;
}

.execute-topbar {
  position: relative;
  width: min(920px, 96vw);
  min-height: clamp(42px, 6vh, 58px);
  padding: clamp(8px, 2vh, 14px) clamp(18px, 4vw, 32px);
  margin: 0 auto;
  margin-top: clamp(8px, 4vh, 32px);
  margin-bottom: clamp(20px, 6vh, 56px);
  border-radius: 999px;
  border: 1px solid rgba(64, 196, 176, 0.45);
  background: rgba(8, 52, 46, 0.58);
  box-shadow: 0 0 40px rgba(26, 180, 160, 0.22);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
  color: #bdf5e6;
  letter-spacing: 0.06em;
  font-weight: 600;
  z-index: 2;
  backdrop-filter: blur(12px);
}

.execute-status {
  margin: 0;
  font-size: clamp(0.85rem, 1.6vw, 1.05rem);
  font-weight: 600;
  letter-spacing: 0.06em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: min(70vw, 540px);
  color: inherit;
}

.execute-status[data-level="error"] {
  color: #ffb3c6;
}

.execute-status[data-level="success"] {
  color: #c0ffe7;
}

.execute-exit {
  position: absolute;
  right: clamp(12px, 4vw, 32px);
  top: 50%;
  transform: translateY(-50%);
  padding: 9px 22px;
  border-radius: 999px;
  border: 1px solid rgba(148, 255, 228, 0.6);
  background: rgba(14, 88, 76, 0.62);
  color: #dcfff4;
  font-size: 0.82rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  cursor: pointer;
  transition: background 220ms ease, transform 220ms ease, box-shadow 220ms ease;
}

.execute-exit:hover,
.execute-exit:focus-visible {
  background: rgba(28, 136, 120, 0.78);
  box-shadow: 0 0 18px rgba(80, 240, 208, 0.42);
  transform: translateY(-50%) translateY(-1px);
}

.execute-exit:focus-visible {
  outline: 2px solid rgba(180, 255, 236, 0.9);
  outline-offset: 4px;
}

.execute-exit[hidden] {
  display: none;
}

.execute-face {
  position: relative;
  --face-size: min(86vmin, 92vw);
  --face-padding: clamp(24px, 7vw, 56px);
  width: var(--face-size);
  height: var(--face-size);
  border-radius: clamp(28px, 10vw, 80px);
  background: radial-gradient(circle at 50% 38%, rgba(12, 72, 66, 0.22), rgba(2, 10, 10, 0.95));
  border: 1px solid rgba(74, 220, 196, 0.24);
  box-shadow:
    0 0 160px rgba(40, 200, 180, 0.25),
    inset 0 0 160px rgba(0, 0, 0, 0.88);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--face-padding);
  box-sizing: border-box;
  z-index: 1;
}

.execute-face::before {
  content: "";
  position: absolute;
  inset: clamp(10%, 12vw, 120px);
  border-radius: clamp(20px, 8vw, 68px);
  border: 1px solid rgba(72, 208, 188, 0.18);
  box-shadow: inset 0 0 120px rgba(0, 0, 0, 0.85);
  background: radial-gradient(circle at 50% 40%, rgba(20, 120, 108, 0.16), rgba(0, 0, 0, 0.96));
}

.execute-dot-grid {
  --cols: 28;
  --rows: 20;
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(var(--cols), 1fr);
  grid-template-rows: repeat(var(--rows), 1fr);
  gap: clamp(0.12rem, 0.4vmin, 0.34rem);
  justify-items: center;
  align-items: center;
}

.execute-dot {
  width: 100%;
  height: 100%;
  border-radius: 36%;
  background: rgba(10, 40, 36, 0.4);
  box-shadow: 0 0 0 rgba(0, 0, 0, 0);
  transition: background 160ms ease, box-shadow 200ms ease, transform 200ms ease, opacity 160ms ease;
  opacity: 0.16;
}

.execute-dot.is-on {
  background: radial-gradient(circle at 40% 38%, rgba(212, 255, 248, 0.95), rgba(18, 148, 132, 0.9));
  box-shadow:
    0 0 12px rgba(70, 240, 214, 0.65),
    0 0 36px rgba(12, 160, 136, 0.45);
  opacity: 0.92;
}

.execute-dot.is-accent {
  background: radial-gradient(circle at 48% 44%, rgba(255, 255, 255, 0.98), rgba(110, 255, 230, 0.9));
  box-shadow: 0 0 22px rgba(140, 255, 232, 0.85);
  transform: scale(1.05);
}

.execute-dot-grid.is-boot .execute-dot.is-on {
  animation: bootGlint 1.6s ease-in-out infinite alternate;
}

.execute-dot-grid.is-shutdown .execute-dot.is-on {
  animation: dissolve 0.9s ease forwards;
}

.execute-stage[data-scene="shutdown"] .execute-face::before {
  opacity: 0.25;
}

.execute-stage[data-expression="salute"] .execute-face::before {
  box-shadow:
    inset 0 0 120px rgba(0, 0, 0, 0.78),
    0 0 60px rgba(64, 240, 210, 0.32);
}

@media (max-width: 720px) {
  .execute-stage {
    padding: clamp(16px, 6vh, 32px) clamp(12px, 6vw, 28px);
    grid-template-rows: auto 1fr;
  }

  .execute-topbar {
    min-height: 46px;
    padding: 10px clamp(18px, 6vw, 26px);
    font-size: 0.78rem;
  }

  .execute-status {
    font-size: clamp(0.75rem, 3vw, 0.92rem);
    letter-spacing: 0.06em;
  }

  .execute-exit {
    padding: 8px 18px;
    font-size: 0.75rem;
  }

  .execute-face {
    --face-size: min(88vmin, 100vw);
    --face-padding: clamp(18px, 12vw, 42px);
  }

  .execute-dot-grid {
    gap: clamp(0.1rem, 0.5vmin, 0.24rem);
  }
}

@keyframes bootGlint {
  0% { transform: scale(0.6); opacity: 0.4; }
  50% { transform: scale(1); opacity: 1; }
  100% { transform: scale(0.85); opacity: 0.7; }
}

@keyframes dissolve {
  0% { opacity: 0.9; transform: scale(1); }
  100% { opacity: 0; transform: scale(0.3); }
}